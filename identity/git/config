# q1sh101 - git config

# --- identity ---
[user]
  name = q1sh101
  email = 37023524+q1sh101@users.noreply.github.com
  signingkey = 0x2170235B44E41686

# --- defaults ---
[init]
  defaultBranch = main

[core]
  excludesfile = ~/.config/git/ignore
  pager = delta
  hooksPath = ~/.config/git/hooks

[branch]
  sort = -committerdate               # recent branches first

# --- safety ---
[pull]
  ff = only                           # no accidental merge commits

[push]
  autoSetupRemote = true              # first push auto-sets upstream

[merge]
  conflictStyle = zdiff3              # shows ours / original / theirs

[diff]
  algorithm = histogram               # smarter than default myers
  colorMoved = true                   # moved code shown in different color

[rebase]
  autoStash = true                    # auto stash/pop dirty tree
  autoSquash = true                   # auto-apply fixup!/squash! commits

[rerere]
  enabled = true                      # remember resolved conflicts

# --- integrity ---
[transfer]
  fsckObjects = true                  # verify all received objects

[fetch]
  fsckObjects = true
  prune = true                        # auto-remove stale remote branches
  pruneTags = true                    # auto-remove stale remote tags

[receive]
  fsckObjects = true

# --- signing ---
[commit]
  gpgsign = true                      # every commit is signed
  verbose = true                      # show diff when writing commit msg

[tag]
  gpgsign = true                      # every tag is signed
  sort = version:refname              # v2 > v10 (not alphabetical)

# --- credential ---
[credential "https://github.com"]
  helper =
  helper = !gh auth git-credential

# --- delta (diff pager) ---
[delta]
  navigate = true                     # n/N to jump between sections
  line-numbers = true
  side-by-side = false
  syntax-theme = Dracula

[interactive]
  diffFilter = delta --color-only

# --- aliases ---
[alias]
  s = status -sb
  l = log --oneline -20
  d = diff
  ds = diff --staged
  dlog = -c diff.external=difft log -p --ext-diff
  undo = reset HEAD~1 --mixed         # undo last commit, keep changes
  amend = commit --amend --no-edit    # add staged to last commit
